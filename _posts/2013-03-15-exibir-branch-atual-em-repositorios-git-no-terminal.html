---
layout: post
status: publish
published: true
title: Exibir Branch Atual em Reposit&oacute;rios Git no Terminal
author:
  display_name: Glauco Custódio
date: '2013-03-15 20:11:44 -0300'
date_gmt: '2013-03-15 20:11:44 -0300'
categories:
- Git
- Linux
tags:
- git
comments:
- id: 801
  author: Rafael
  author_email: vieira.rrafael@gmail.com
  author_url: ''
  date: '2013-06-29 02:16:32 -0300'
  date_gmt: '2013-06-29 02:16:32 -0300'
  content: Boa dica! Valeu.
- id: 2445
  author: Leandro
  author_email: leandro86marques@gmail.com
  author_url: ''
  date: '2014-06-12 02:54:20 -0300'
  date_gmt: '2014-06-12 02:54:20 -0300'
  content: "Editei meu .bashrc e ficou assim meu terminal:\r\n\r\nu@h[ [01;34m] w[
    [0;32m] (master)[ [01;34m]u@h[ [01;34m] w[ [0;32m]$(__git_ps1 \" (%s)\")[ [01;34m]$[
    [00m]\r\n\r\nRestaurei o arquivo pra voltar ao normal. Por enquanto n&atilde;o
    consegui fazer exibir direito como informado aqui. Se algu&eacute;m tiver uma
    solu&ccedil;&atilde;o. Estou usando o Ubuntu 14.04 LTS."
- id: 2970
  author: Lahana
  author_email: lahana.lameira@secplus.com.br
  author_url: ''
  date: '2014-08-14 17:57:08 -0300'
  date_gmt: '2014-08-14 17:57:08 -0300'
  content: "Ol&aacute;, mandei esse tutorial para meu colega e n&atilde;o funcionou.
    Ent&atilde;o abri o meu bashrc e copiei a vari&aacute;vel PS1:\r\n\r\nPS1='[\\A]
    \\[\\e[32;1m\\]\\u\\[\\e[34;1m\\]@\\[\\e[36;1m\\]\\H:\\[\\e[34;1m\\]\\w\\[\\e[32;1m\\]`__git_ps1`
    $ \\[\\e[0m\\]'\r\n\r\nE mandei para ele trocar pela dele e s&oacute; assim funcionou..."
- id: 11755
  author: Gustavo
  author_email: gu.araujo25@gmail.com
  author_url: ''
  date: '2014-10-03 11:17:13 -0300'
  date_gmt: '2014-10-03 11:17:13 -0300'
  content: "No mac n&atilde;o funcionou...\r\nPara fazer funcionar no mac eu usei
    isso: http:&#47;&#47;martinfitzpatrick.name&#47;article&#47;add-git-branch-name-to-terminal-prompt-mac&#47;"
---
<p>E ai galera, hoje venho para falar de git novamente..</p>

<p>Você já trabalhou em um projeto com muitos branches? Já se perdeu fazendo coisas no branch errado?</p>

<p>Nesse post irei explicar como exibir o branch atual no diretório do projeto, assim você não precisa ficar rodando <code>git status</code> toda hora pra saber em qual branch está.</p>

<p>Por padrão não conseguimos ver o branch atual no repositório. Quando acessamos um projeto versionado com git, obtemos a exibição padrão, com apenas o usuário, host e path atual:</p>

<a href="{{ site.baseurl }}/assets/terminal-sem-branch-do-git.png"><img class="alignnone size-full wp-image-1354" title="terminal-sem-branch-do-git" src="{{ site.baseurl }}/assets/terminal-sem-branch-do-git.png"/></a>

<p>Para exibir o branch atual, precisamos alterar a variável <code>PS1</code>. Basta adicionar o código abaixo no fim do arquivo <code>.bashrc</code> ou do <code>.bash_profile</code> (ambos se encontram na home do usuário <code>~/</code>):</p>

{% highlight bash %}
export PS1='\u@\h\[\033[01;34m\] \w\[\033[0;32m\]$(__git_ps1 " (%s)")\[\033[01;34m\]$\[\033[00m\] '
{% endhighlight %}

<div class="note">Rode o comando <code>source ~/.bashrc</code> ou <code>source ~/.bash_profile</code> para recarregar e ver a alteração sem precisar reiniciar o terminal.</div>

<p>Só isso e você obterá o que deseja:</p>

<a href="{{ site.baseurl }}/assets/exibindo-branch-do-git-no-terminal.png"><img class="alignnone size-full wp-image-1356" title="exibindo-branch-do-git-no-terminal" src="{{ site.baseurl }}/assets/exibindo-branch-do-git-no-terminal.png"/></a>

<p>Agora o branch atual, nesse caso o <code>master</code>, está sendo exibido entre parênteses..</p>

<p>Mas você pode customizar também, modificando as cores e os valores exibidos. Abaixo temos uma breve relação do que podemos definir na variável <code>PS1</code> para modificar nosso output. Divirta-se.</p>

<h3>Valores</h3>
<ul>
  <li>\u: usuário atual</li>
  <li>\h: nome da máquina (host)</li>
  <li>\H: nome da máquina completo</li>
  <li>\w: diretório de trabalho atual</li>
  <li>\W: diretório de trabalho atual com o nome base (último segmento) apenas</li>
  <li>$(__git_ps1 "%s"): branch atual caso esteja em um repositório git, senão exibe nada.</li>
</ul>

<h3>Cores</h3>
<ul>
  <li>azul: <code>\[\033[0;34m\]</code></li>
  <li>vermelho: <code>\[\033[0;31m\]</code></li>
  <li>vermelho fluorescente: <code>\[\033[1;31m\]</code></li>
  <li>verde: <code>\[\033[0;32m\]</code></li>
  <li>verde fluorescente: <code>\[\033[1;32m\]</code></li>
  <li>branco forte: <code>\[\033[1;37m\]</code></li>
  <li>cinza: <code>\[\033[0;37m\]</code></li>
  <li>padrão: <code>\[\033[0m\]</code></li>
</ul>
<p>O tutorial acima foi testado apenas no Ubuntu 12.04 e 12.10, mas deve funcionar em outras distribuições Linux e possivelmente no OS X. Relate sua experiência nos comentários!</p>

<p>Até mais.</p>

