---
layout: post
status: publish
published: true
title: Haml Sim Senhor, Porque N&atilde;o?
author:
  display_name: Glauco Custódio
date: '2013-06-08 16:51:45 -0300'
date_gmt: '2013-06-08 16:51:45 -0300'
categories:
- Ruby
- HTML
tags:
- slim
- haml
comments:
- id: 930
  author: Douglas C. Macedo
  author_email: dodop3000@gmail.com
  author_url: ''
  date: '2013-07-21 12:22:20 -0300'
  date_gmt: '2013-07-21 12:22:20 -0300'
  content: "N&atilde;o &eacute; sempre que uso o Haml, mas toda vez que uso fico com
    a impress&atilde;o de que o c&oacute;digo html gerado &eacute; muito mais limpo
    que quando usando o erb.\r\n\r\n:)"
- id: 2883
  author: Jo&atilde;o Rafael
  author_email: j.rafael.tux@gmail.com
  author_url: ''
  date: '2014-08-08 14:27:29 -0300'
  date_gmt: '2014-08-08 14:27:29 -0300'
  content: "Boa mat&eacute;ria, estou come&ccedil;ando a estudar sobre haml e utilizarei
    em um projeto para testar. \r\n\r\nAtt."
---
<p>E ai pessoal, estou aqui hoje para falar de um assunto meio polêmico na comunidade Ruby, o <a href="http://haml.info/" rel="external nofollow" target="_blank">Haml</a>..</p>

<p>Para quem não conhece, o Haml é como um LESS ou Sass do CSS só que para ERB (HTML com Ruby embutido). Ele foi criado por Hampton Catlin, o mesmo cara que criou o Sass.</p>

<p>Vamos conhecer um pouco mais dessa ferramenta que pode facilitar nosso trabalho..</p>

<a href="{{ site.baseurl }}/assets/haml-cover.jpg?1"><img class="alignnone size-full wp-image-1656" title="haml-cover" src="{{ site.baseurl }}/assets/haml-cover.jpg?1" alt="Haml logo" width="580" height="240" /></a>

<p>Assim como muitos, quando comecei a trabalhar com ele não gostei muito, mas aos poucos pude experimentar a produtividade que ele pode proporcionar, além de deixar as views muito mais limpas, sem aquele monte de <code>&lt;</code> e <code>&gt;</code> que o velho HTML tem..</p>

<p>Aqui temos um exemplo de Haml e HTML lado a lado:</p>
<div style="float: left; width: 450px; margin-right: 20px;">
  {% highlight ruby %}
  %div{data: {title: 'my-title'}}
    %ul.default-list
      %li
        = link_to "Home", root_url
  {% endhighlight %}
</div>

<div style="float: left; width: 450px;">
  {% highlight ruby %}
  <div data-title="my-title">
    <ul class="default-list">
      <li>
        <%= link_to "Home", root_url %>
      </li>
    </ul>
  </div>
  {% endhighlight %}
</div>
<br clear="all" />
<p>Observe a quantidade de código e a clareza de cada um..</p>

<p>Andei lendo bastante coisa sobre o Haml e gostaria de fazer uma breve abordagem a seguir.</p>

<h2>Vantagens</h2>
<ul>
  <li>ágil: escreva HTML de uma forma rápida</li>
  <li>simples: assim como o Ruby, ele vai direto ao assunto, esqueça <code>&lt;</code> e <code>&gt;</code></li>
  <li>eficiente: esqueça problemas de tags abertas</li>
  <li>elegante: seu código sempre estará indentado</li>
  <li>menos código: a redução de código nas view pode chegar a 60% usando Haml</li>
</ul>

<h2>Desvantagens</h2>
<ul>
  <li>curva de aprendizado: o principal motivo que vejo o pessoal reclamando de Haml é esse, alguns dizem que designers podem precisar editar HTML e então ficar perdidos. Eu não consigo ver uma diferença gritante entre os dois, mas na internet temos muitas soluções que podem ajudar, como <a href="http://htmltohaml.com/" rel="external nofollow" target="_blank">essa</a> e <a href="http://html2haml.heroku.com/" rel="external nofollow" target="_blank">essa</a></li>
  <li>código cheio de <code>%</code>: isso é verdade, mas o HTML também é cheio dos sinais de menor e maior. Porém não precisamos ficar digitando <code>%</code> toda hora, ao digitar <code>h1</code> por exemplo e apertar "Tab" o Sublime Text automaticamente adiciona <code>%</code> pra nós..</li>
</ul>

<h2>Quem me garante?</h2>
<p>Você pode ainda estar se questionando, vejamos então um exemplo de uso no dia-a-dia.</p>

<p>Existe um evento chamado <a href="http://railsrumble.com/" rel="external nofollow" target="_blank">Rails Rumble</a> cujo objetivo é promover uma competição de equipes (de uma até quatro pessoas) do mundo inteiro onde cada uma deve desenvolver uma aplicação em Ruby on Rails ou em frameworks para web baseados em Rack (como <a href="{% post_url 2012-12-13-desenvolvimento-web-com-sinatra-criando-um-blog-estatico %}" target="_blank">Sinatra</a> por exemplo) em no máximo 48 horas. Após o prazo, um grupo de jurados escolhe os 10 melhores times.</p>

<p>Esse tipo de evento nos ajuda a conhecer melhor a capacidade das ferramentas que usamos e também de analisar alguns fatores..</p>

<p>Ao término do evento na edição de 2012, as equipes vencedoras mostraram seus Gemfile, entre algumas categorias vistas temos a de template engine, que gerou o gráfico abaixo:</p>

<a href="{{ site.baseurl }}/assets/uso-de-haml-erb-e-slim.jpg"><img class="alignnone size-full wp-image-1706" title="uso-de-haml-erb-e-slim" src="{{ site.baseurl }}/assets/uso-de-haml-erb-e-slim.jpg" alt="uso-de-haml-erb-e-slim" width="195" height="140" /></a>

<p>Das 10 equipes vencedoras, 5 usaram Haml, 3 usaram Slim e 2 provavelmente foram de ERB. Isso mostra como esse tipo de tecnologia pode ajudar no desenvolvimento ágil.</p>

<p>Meu objetivo com esse post é apresentar e incentivar o uso de tecnologias que podem facilitar nosso trabalho. Como vimos acima, não temos só o Haml, existe um template engine chamado <a href="http://slim-lang.com/" rel="external nofollow" target="_blank">Slim</a> que também se propõe a fazer a mesma tarefa.</p>

<p>Em vários posts que li na internet sobre Haml, vários autores comentam que quando começaram a usá-lo não gostaram, mas que depois acabaram pegando gosto e vendo os benefícios que pode nos trazer. Eu desafio você, invés de formar uma opinião, faça um teste de verdade e tire suas conclusões..</p>

<p>Deixe sua opinião nos comentários, compartilhe seu ponto de vista também.</p>

<p>Até mais.</p>

<script type="text/javascript" src="http://www.easypolls.net/ext/scripts/emPoll.js?p=51b8e131e4b0604d061ee82d"></script><a class="OPP-powered-by" href="http://www.objectplanet.com/opinio/" style="text-decoration:none;"><div style="font: 9px arial; color: gray;">surveys & polls</div></a>

