---
layout: post
status: publish
published: true
title: Cuidado com o LocaleMiddleware do Django
author:
  display_name: Glauco Cust√≥dio
  login: glauco-custodio
  email: glauco.custodio@gmail.com
  url: http://glaucocustodio.com
author_login: glauco-custodio
author_email: glauco.custodio@gmail.com
author_url: http://glaucocustodio.com
excerpt: "<p style=\"text-align: left;\">Depois de um tempo sem falar sobre Python&#47;Django
  estou aqui de volta..<&#47;p>\r\n<p style=\"text-align: left;\">Estava trabalhando
  em um projeto Django hoje e me deparei com uma situa&ccedil;&atilde;o recorrente
  que gostaria de compartilhar.<&#47;p>\r\n<p style=\"text-align: left;\">Como <a
  href=\"https:&#47;&#47;docs.djangoproject.com&#47;en&#47;1.1&#47;topics&#47;i18n&#47;deployment&#47;\"
  rel=\"external nofollow\" target=\"_blank\">est&aacute; na documenta&ccedil;&atilde;o
  do projeto<&#47;a>, o Django possui uma configura&ccedil;&atilde;o para definirmos
  o idioma a ser utilizado em toda instala&ccedil;&atilde;o atrav&eacute;s da vari&aacute;vel
  <code>LANGUAGE_CODE<&#47;code>, por padr&atilde;o ela vem setada como \"en-us\",
  mas podemos alter&aacute;-la segundo nossa prefer&ecirc;ncia (como \"pt-br\" para
  portugu&ecirc;s do Brasil).<&#47;p>\r\n<p style=\"text-align: left;\">"
wordpress_id: 2027
wordpress_url: http://blog.glaucocustodio.com/?p=2027
date: '2013-09-07 14:56:08 -0300'
date_gmt: '2013-09-07 14:56:08 -0300'
categories:
- Python
tags:
- django
comments: []
---
<p style="text-align: left;">Depois de um tempo sem falar sobre Python&#47;Django estou aqui de volta..<&#47;p></p>
<p style="text-align: left;">Estava trabalhando em um projeto Django hoje e me deparei com uma situa&ccedil;&atilde;o recorrente que gostaria de compartilhar.<&#47;p></p>
<p style="text-align: left;">Como <a href="https:&#47;&#47;docs.djangoproject.com&#47;en&#47;1.1&#47;topics&#47;i18n&#47;deployment&#47;" rel="external nofollow" target="_blank">est&aacute; na documenta&ccedil;&atilde;o do projeto<&#47;a>, o Django possui uma configura&ccedil;&atilde;o para definirmos o idioma a ser utilizado em toda instala&ccedil;&atilde;o atrav&eacute;s da vari&aacute;vel <code>LANGUAGE_CODE<&#47;code>, por padr&atilde;o ela vem setada como "en-us", mas podemos alter&aacute;-la segundo nossa prefer&ecirc;ncia (como "pt-br" para portugu&ecirc;s do Brasil).<&#47;p></p>
<p style="text-align: left;"><a id="more"></a><a id="more-2027"></a>At&eacute; aqui tudo bem, s&oacute; devemos tomar cuidado se nosso projeto possui o <code style="font-style: inherit;">django.middleware.locale.LocaleMiddleware<&#47;code> ativo na tupla "MIDDLEWARE_CLASSES" no arquivo "settings.py".<&#47;p></p>
<p style="text-align: left;">Caso esteja, o Django ir&aacute; tentar usar o idioma de prefer&ecirc;ncia do usu&aacute;rio baseado nas requisi&ccedil;&otilde;es, ou seja, se o usu&aacute;rio usar idioma ingl&ecirc;s por exemplo e o Django tiver esse idioma ent&atilde;o ser&aacute; utilizado ele.<&#47;p></p>
<p style="text-align: left;">Esse recurso &eacute; bom, mas as vezes queremos fixar um idioma sem levar em conta prefer&ecirc;ncias dos usu&aacute;rios, para isso basta garantir que o "LocaleMiddleware" n&atilde;o est&aacute; entre os middlewares do projeto.<&#47;p></p>
<p style="text-align: left;">At&eacute; mais.<&#47;p></p>
