---
layout: post
status: publish
published: true
title: Aplica&ccedil;&atilde;o Desktop Multiplataforma com Python
author:
  display_name: Glauco Custódio
date: '2015-03-28 14:25:39 -0300'
date_gmt: '2015-03-28 14:25:39 -0300'
categories:
- Python
tags:
- wxpython
comments: []
---
<p>Logo nos dias de hoje, com ascensão da web e mobile, você vem me falar de aplicações desktops, que rodam direto no sistema operacional?</p>

<p>Se você trabalha numa startup e deseja automatizar alguns processos fora do browser, por que não? O foco é entregar valor pro cliente, não importa de que forma.</p>

<p>Você precisa de algo alto nível, que seja rápido pra fazer. O programa tem que ser multiplataforma, rodar em Linux e Windows principalmente.</p>

<p>Esqueça o Java, muito verboso, será que conseguimos fazer em Ruby ou Python?</p>

<p>Python por ser uma linguagem mais madura e que tem abrangência não só pra web parece uma boa solução.</p>

<p>Pesquisando na net encontrei o <a href="http://www.wxpython.org/" rel="external nofollow" target="_blank">wxPython</a>, um wrapper para a biblioteca cross-platform <a href="http://wxwidgets.org/" rel="external nofollow" target="_blank">wxWidgets</a> que é feita em C++.</p>
<h2>Setup</h2>
<p>Isso é o que precisamos para desenvolver com wxPython:</p>
<!-- Biblioteca de desenvolvimento do GTK (libgtk2.0-dev): sudo apt-get install libgtk2.0-dev -->
<ul>
  <li>Python 2.7 instalado (já vem com Linux)</li>
  <li>wxPython: <code>sudo apt-get update &amp;&amp; sudo apt-get install python-wxtools</code></li>
  <li>CXFreeze (opcional, utilizado para construir os binários): <code>sudo apt-get install cx-freeze</code></li>
  <li>PIP (opcional, útil se você for instalar outras bibliotecas): <code>sudo apt-get install python-pip</code></li>
</ul>
<div class="alert">Como wxPython é uma biblioteca para construir aplicações GUI, precisamos ter um ambiente X instalado. Você terá problemas se estiver instalando numa Vagrant box por exemplo.</div>
<h2>Recursos</h2>
<p>Abaixo deixo alguns excelentes recursos que utilizei para aprender como desenvolver com wxPython (todos em inglês):</p>
<h3>Livros</h3>
<ul>
  <li>wxPython 2.8 Application Development Cookbook (2010)</li>
  <li>wxPython in Action</li>
</ul>
<p>O primeiro livro é muito bom, praticamente só usei ele..</p>
<h3>Tutoriais/Documentação</h3>
<ul>
  <li><a href="http://zetcode.com/wxpython/layout/" rel="external nofollow" target="_blank">Layout management in wxPython</a></li>
  <li><a href="http://www.blog.pythonlibrary.org/2014/01/31/wxpython-how-to-catch-all-exceptions/" rel="external nofollow" target="_blank">Catching all the Errors</a></li>
  <li><a href="http://xoomer.virgilio.it/infinity77/AGW_Docs/index.html" rel="external nofollow" target="_blank">Advanced Generic Widgets (AGW)</a> é um pacote de widgets customizados/melhorados. A partir da versão 2.8.9.2 ele foi integrado ao wxPython.</li>
</ul>
<p>No projeto que criei, fiz uso do widget <code>UltimateListCtrl</code> contido no AGW, porém, usei a versão standalone disponível <a href="http://xoomer.virgilio.it/infinity77/main/UltimateListCtrl.html" rel="external nofollow" target="_blank">aqui</a>.</p>
<h3>Dicas</h3>
<h4>Erros e feedback</h4>
<p>Por padrão, os erros que ocorrem durante a execução do programa quando compilado não são exibidos. O programa trava e o usuário fica sem feedback. É uma boa fazer uso do tutorial acima para exibir erros.</p>
<h4>Use threads</h4>
<p>Operações bloqueantes como consumir dados de uma api ou manipular arquivos são recomendadas que sejam executas numa thread separada, para não obstruir o programa.</p>

<p>Só tome cuidado porque uma thread paralela não pode modificar a interface gráfica, você deve fazer isso chamando callbacks. No primeiro livro citado tem um capítulo que fala sobre o tema, vale a penal ler.</p>

<h4>Crie um Makefile</h4>
<p>Para buildar/instalar a aplicação, limpar arquivos/banco de dados e tarefas como essas que necessitam de comandos shell, é bom colocar num Makefile, assim você só executa um comando para cada rotina.</p>

<h4>Acessar janela principal</h4>
<p>Use <code>wx.GetApp().GetTopWindow()</code> em qualquer parte de sua aplicação para ter acesso a janela principal (não esqueça de importar o pacote <code>wx</code>). Se você tem uma barra de status na primeira tela e deseja definir um texto nela a partir de outras classes por exemplo, invés de ficar passando o objeto principal como parâmetro, basta você usar o trecho acima que conseguirá acesso.</p>

<h2>Conclusão</h2>

<p>É isso pessoal, minha idéia com esse post é apenas mostrar pra vocês que há uma forma mais simples de criar esse tipo de aplicação de uma forma menos dolorosa.</p>

<p>Até mais.</p>